# Immodz Real Estate Price Prediction

This repository contains a machine learning model training script and a Flask web application for real estate price prediction in Algiers, Algeria.

## Project Structure

- `data/ads_export.json`: Input file contains the database.
- `train.py`: Trains a GradientBoostingRegressor model using `ads_export.json`.
- `requirements.txt`: Dependencies for `train.py`.
- `Models/`:
  - `immo_price_prediction_model.pkl`: Trained model.
  - `scaler.pkl`: Scaler.
  - `tfidf_vectorizer.pkl`: TF-IDF vectorizer.
  - `test_mae.pkl`: Test MAE.
  - `expected_columns.pkl`: Expected feature columns.
- `flask_app/`:
  - `app.py`: Flask web app for price predictions.
  - `requirements.txt`: Dependencies for `app.py`.
  - `templates/index.html`: HTML template for the web app.
- `.gitignore`: Excludes generated files.

## Requirements

- **Python**: 3.12.6 (compatible with 3.9–3.12)
- **Input File**: `ads_export.json` (must be provided for `train.py`)

## Setup

### Training Model (`train.py`)

1. Clone the repository:
   ```bash
   git clone https://github.com/SifouaneLyna/immodz.git
   cd immodz
   ```
2. Create and activate a virtual environment:
   ```bash
   python -m venv venv
   .\venv\Scripts\activate  # Windows
   # OR
   source venv/bin/activate  # Linux/Mac
   ```
3. Install requirements:
   ```bash
   pip install -r requirements.txt
   ```
4. Place `ads_export.json` in the data repositpry.
5. Run the training script:
   ```bash
   python train.py
   ```
   **Outputs**:

- `Models/immo_price_prediction_model.pkl`: Trained model
- `Models/scaler.pkl`: Scaler
- `Models/test_mae.pkl`: Test MAE
- `tfidf_vectorizer.pkl`: TF-IDF vectorizer.
- `expected_columns.pkl`: Expected feature columns.
- `encoded_real_estate_data.csv`: Processed dataset

### Running Flask App (`app.py`)

1. Ensure model files are generated by running `train.py`.
2. Install Flask app requirements:
   ```bash
   pip install -r flask_app/requirements.txt
   ```
3. Run the Flask app:
   ```bash
   cd flask_app
   python app.py
   ```
4. Open `http://127.0.0.1:5000` in a browser to use the app.
   **Outputs**:

- `predictions.csv`: Logs predictions made via the web app.

## Notes

- Ensure Python 3.12.6 (or 3.9–3.12) is installed.
- `ads_export.json` must contain columns: `price`, `price_v`, `norm_price`, `surface`, `town`, `category`, `title`, `description`.
- The Flask app requires model files in `Models/`.
